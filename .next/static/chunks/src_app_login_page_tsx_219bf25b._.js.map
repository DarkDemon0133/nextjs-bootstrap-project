{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/app/login/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport * as z from \"zod\";\nimport { useAuth } from \"../../context/AuthContext\";\nimport { useRouter } from \"next/navigation\";\n\nconst loginSchema = z.object({\n  username: z.string().min(1, \"El usuario es requerido\"),\n  password: z.string().min(1, \"La contraseña es requerida\"),\n});\n\ntype LoginFormInputs = z.infer<typeof loginSchema>;\n\nexport default function LoginPage() {\n  const { login } = useAuth();\n  const router = useRouter();\n  const {\n    register,\n    handleSubmit,\n    formState: { errors, isSubmitting },\n  } = useForm<LoginFormInputs>({\n    resolver: zodResolver(loginSchema),\n  });\n\n  const onSubmit = async (data: LoginFormInputs) => {\n    try {\n      await login(data.username, data.password);\n      // Redirect based on role\n      if (data.username === \"admin\") {\n        router.push(\"/admin\");\n      } else {\n        router.push(\"/client\");\n      }\n    } catch (error: any) {\n      alert(error.message || \"Error al iniciar sesión\");\n    }\n  };\n\n  return (\n    <div className=\"max-w-md mx-auto mt-20 p-6 bg-card rounded shadow\">\n      <h1 className=\"text-2xl font-bold mb-6 text-center\">Iniciar Sesión</h1>\n      <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-4\">\n        <div>\n          <label htmlFor=\"username\" className=\"block mb-1 font-semibold\">\n            Usuario\n          </label>\n          <input\n            id=\"username\"\n            type=\"text\"\n            {...register(\"username\")}\n            className=\"w-full border border-border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary\"\n          />\n          {errors.username && (\n            <p className=\"text-destructive text-sm mt-1\">{errors.username.message}</p>\n          )}\n        </div>\n        <div>\n          <label htmlFor=\"password\" className=\"block mb-1 font-semibold\">\n            Contraseña\n          </label>\n          <input\n            id=\"password\"\n            type=\"password\"\n            {...register(\"password\")}\n            className=\"w-full border border-border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary\"\n          />\n          {errors.password && (\n            <p className=\"text-destructive text-sm mt-1\">{errors.password.message}</p>\n          )}\n        </div>\n        <button\n          type=\"submit\"\n          disabled={isSubmitting}\n          className=\"w-full bg-primary text-primary-foreground py-2 rounded hover:bg-primary-foreground hover:text-primary transition\"\n        >\n          {isSubmitting ? \"Ingresando...\" : \"Ingresar\"}\n        </button>\n      </form>\n      <p className=\"mt-4 text-center\">\n        ¿No tienes cuenta?{\" \"}\n        <a href=\"/register\" className=\"text-primary hover:underline\">\n          Registrar\n        </a>\n      </p>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AACA;AACA;;;AAPA;;;;;;AASA,MAAM,cAAc,CAAA,GAAA,uIAAA,CAAA,SAAQ,AAAD,EAAE;IAC3B,UAAU,CAAA,GAAA,uIAAA,CAAA,SAAQ,AAAD,IAAI,GAAG,CAAC,GAAG;IAC5B,UAAU,CAAA,GAAA,uIAAA,CAAA,SAAQ,AAAD,IAAI,GAAG,CAAC,GAAG;AAC9B;AAIe,SAAS;;IACtB,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,iIAAA,CAAA,UAAO,AAAD;IACxB,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,EACJ,QAAQ,EACR,YAAY,EACZ,WAAW,EAAE,MAAM,EAAE,YAAY,EAAE,EACpC,GAAG,CAAA,GAAA,iKAAA,CAAA,UAAO,AAAD,EAAmB;QAC3B,UAAU,CAAA,GAAA,iKAAA,CAAA,cAAW,AAAD,EAAE;IACxB;IAEA,MAAM,WAAW,OAAO;QACtB,IAAI;YACF,MAAM,MAAM,KAAK,QAAQ,EAAE,KAAK,QAAQ;YACxC,yBAAyB;YACzB,IAAI,KAAK,QAAQ,KAAK,SAAS;gBAC7B,OAAO,IAAI,CAAC;YACd,OAAO;gBACL,OAAO,IAAI,CAAC;YACd;QACF,EAAE,OAAO,OAAY;YACnB,MAAM,MAAM,OAAO,IAAI;QACzB;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAAsC;;;;;;0BACpD,6LAAC;gBAAK,UAAU,aAAa;gBAAW,WAAU;;kCAChD,6LAAC;;0CACC,6LAAC;gCAAM,SAAQ;gCAAW,WAAU;0CAA2B;;;;;;0CAG/D,6LAAC;gCACC,IAAG;gCACH,MAAK;gCACJ,GAAG,SAAS,WAAW;gCACxB,WAAU;;;;;;4BAEX,OAAO,QAAQ,kBACd,6LAAC;gCAAE,WAAU;0CAAiC,OAAO,QAAQ,CAAC,OAAO;;;;;;;;;;;;kCAGzE,6LAAC;;0CACC,6LAAC;gCAAM,SAAQ;gCAAW,WAAU;0CAA2B;;;;;;0CAG/D,6LAAC;gCACC,IAAG;gCACH,MAAK;gCACJ,GAAG,SAAS,WAAW;gCACxB,WAAU;;;;;;4BAEX,OAAO,QAAQ,kBACd,6LAAC;gCAAE,WAAU;0CAAiC,OAAO,QAAQ,CAAC,OAAO;;;;;;;;;;;;kCAGzE,6LAAC;wBACC,MAAK;wBACL,UAAU;wBACV,WAAU;kCAET,eAAe,kBAAkB;;;;;;;;;;;;0BAGtC,6LAAC;gBAAE,WAAU;;oBAAmB;oBACX;kCACnB,6LAAC;wBAAE,MAAK;wBAAY,WAAU;kCAA+B;;;;;;;;;;;;;;;;;;AAMrE;GAzEwB;;QACJ,iIAAA,CAAA,UAAO;QACV,qIAAA,CAAA,YAAS;QAKpB,iKAAA,CAAA,UAAO;;;KAPW","debugId":null}}]
}